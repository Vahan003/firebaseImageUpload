{"version":3,"sources":["firebase/config.js","firebase/firebase.js","firebase/index.js","App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Ref","id","collectionName","_this","this","Object","classCallCheck","call","callback","firebase","Firebase","_this2","uploadImg","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","path","file","storeRef","fileData","wrap","_context","prev","next","child","Blob","type","put","abrupt","sent","stop","_x","_x2","apply","arguments","delete","_ref2","_callee2","_context2","_x3","ref","length","undefined","defCollection","db","collection","doc","getDataViaRef","_ref3","_callee3","_context3","get","then","data","_x4","getData","_ref4","_callee4","_args4","_context4","_x5","onCreate","_callee5","_args5","_context5","add","onUpdateViaRef","_callee6","_args6","_context6","exists","update","t0","console","log","onUpdate","_callee7","_args7","_context7","onDeleteViaRef","_ref8","_callee8","_context8","_x6","onDelete","_ref9","_callee9","_args9","_context9","_x7","register","_ref10","_callee10","name","email","password","newUser","_context10","auth","createUserWithEmailAndPassword","user","updateProfile","displayName","_x8","_x9","_x10","login","_ref11","_callee11","_context11","signInWithEmailAndPassword","_x11","_x12","logout","_callee12","_context12","signOut","resetPassword","_callee13","_context13","sendPasswordResetEmail","app","initializeApp","storage","firestore","FirebaseFiles","_useState","useState","_useState2","slicedToArray","setFile","_useState3","_useState4","fileTarget","setFileTarget","_useState5","_useState6","fileName","setFileName","_useState7","_useState8","images","setImages","_useState9","_useState10","wait","setWait","_useState11","_useState12","setId","useEffect","forEach","avatar","concat","getDownloadURL","url","push","toConsumableArray","react_default","createElement","className","src","onChange","e","reader","FileReader","target","value","files","readAsDataURL","onload","result","onClick","metadata","fullPath","d","map","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6e5df663.chunk.js","sourcesContent":["const firebaseConfig = {\r\n  apiKey: \"AIzaSyAvmufurMyH9YGzPD68ZdrLuBn-YcGnmu8\",\r\n  authDomain: \"olathere-b9869.firebaseapp.com\",\r\n  databaseURL: \"https://olathere-b9869.firebaseio.com\",\r\n  projectId: \"olathere-b9869\",\r\n  storageBucket: \"olathere-b9869.appspot.com\",\r\n  messagingSenderId: \"737026632180\",\r\n  appId: \"1:737026632180:web:0e9f28e5b0112d03a131a1\",\r\n  measurementId: \"G-8V4NL7C0Y9\"\r\n};\r\n  export default firebaseConfig;","import app from 'firebase/app';\r\nimport 'firebase/auth'; // authentication\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage'\r\nimport firebaseConfig from './config';\r\nclass Ref{\r\n  constructor(id, collectionName){\r\n    this.id = id;\r\n    this.collectionName = collectionName\r\n    this.call = (callback)=> callback(this.id, this.collectionName)\r\n  }\r\n}\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(firebaseConfig);\r\n    this.auth = app.auth();\r\n    this.storeRef = app.storage().ref()\r\n    this.db = app.firestore();\r\n    this.defCollection = \"\";\r\n  }\r\n  \r\n  uploadImg = async (path, file) => {\r\n    const storeRef = this.storeRef.child(path)\r\n    const fileData = new Blob([file], {type : 'image/jpeg'})\r\n    return await storeRef.put(fileData)\r\n  }\r\n  delete = async (path) =>{\r\n   const storeRef = this.storeRef.child(path)\r\n   return await storeRef.delete()\r\n  }\r\n\r\n  ref =  (id, collectionName) => {\r\n    const createRef = new Ref(id, collectionName)\r\n    return  createRef.call((id, collectionName = this.defCollection)=>\r\n    this.db.collection(collectionName).doc(id));\r\n  }\r\n  getDataViaRef = async (ref) => \r\n    await ref.get().then(data => data.data())\r\n  \r\n   \r\n  getData = async (id, collectionName = this.defCollection) =>{\r\n    const ref =  this.ref(id, collectionName)   \r\n        return ref.get().then(data => data.data())\r\n  }\r\n\r\n  //----------CREATE--------------------------------------------\r\n  onCreate= async (data={}, collectionName= this.defCollection) => \r\n  this.db.collection(collectionName).add(data)\r\n   \r\n   //-------UPDATE---------------------------------------------\r\n   onUpdateViaRef = async (data={},ref)=>{\r\n    try {\r\n      const doc = await ref.get();\r\n      if(doc.exists){\r\n       ref.update(data)\r\n      }\r\n    }\r\n    catch(error){\r\n      console.log(error)\r\n    }\r\n }\r\n\r\n   onUpdate = async (data={}, id, collectionName = this.defCollection) => {\r\n   const ref =  this.ref(id, collectionName)\r\n    try {\r\n      const doc = await ref.get();\r\n      if(doc.exists){\r\n       ref.update(data)\r\n      }\r\n    }\r\n    catch(error){\r\n      console.log(error)\r\n    }\r\n   } \r\n   //--------------------------------------------------------------\r\n   //--------DELETE------------------------------------------------\r\n   onDeleteViaRef = async (ref) =>{\r\n    try {\r\n      const doc = await ref.get();\r\n      if(doc.exists){\r\n        ref.delete()\r\n      }\r\n    }\r\n    catch(error){\r\n      console.log(error)\r\n    }\r\n   }\r\n\r\n   onDelete = async (id, collectionName = this.defCollection) =>{\r\n   const ref =  this.ref(id, collectionName)\r\n    try {\r\n      const doc = await ref.get();\r\n      if(doc.exists){\r\n       ref.delete()\r\n      }\r\n    }\r\n    catch(error){\r\n      console.log(error)\r\n    }\r\n   } \r\n   //-------------------------AUTH-------------\r\n   register = async (name, email, password) => {\r\n    const newUser = await this.auth.createUserWithEmailAndPassword(email, password)\r\n    return await newUser.user.updateProfile({ displayName: name })\r\n  }\r\n\r\n    login = async(email, password) => {\r\n   return await this.auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n    logout = async () => {\r\n    return await this.auth.signOut()\r\n  }\r\n    resetPassword = async () => {\r\n    await this.auth.sendPasswordResetEmail();\r\n  }\r\n}\r\n//-------------------------------------------------\r\n\r\n\r\nexport default new Firebase();","import firebase from './firebase';\r\n\r\n\r\nexport default firebase;","import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"./firebase\";\r\nimport \"./App.css\";\r\nfunction FirebaseFiles() {\r\n  const [file, setFile] = useState(null);\r\n  const [fileTarget, setFileTarget] = useState();\r\n  const [fileName, setFileName] = useState();\r\n  const [images, setImages] = useState([]);\r\n  const [wait, setWait] = useState(\"Submit\");\r\n  const [id, setId] = useState(null);\r\n\r\n \r\n  useEffect(() => {\r\n    \r\n    firebase.db\r\n      .collection(\"user\")\r\n      .get()\r\n      .then(data => {\r\n        setImages([])\r\n        return data.forEach(doc => {\r\n          const avatar = firebase.storeRef.child(`${doc.data().avatar}`);\r\n          const id = doc.id\r\n          const path = doc.data().avatar\r\n          avatar.getDownloadURL().then(url => {\r\n            images.push({url, path, id})\r\n            setImages([...images])\r\n          });\r\n        })\r\n      }\r\n      );\r\n  }, [id]);\r\n\r\n  const showFile = e => {\r\n    const reader = new FileReader();\r\n    if (e.target.value) {\r\n      setFileName(e.target.files[0].name);\r\n      setFileTarget(e.target.files[0]);\r\n      reader.readAsDataURL(e.target.files[0]);\r\n      reader.onload = () => {\r\n        setFile(reader.result);\r\n      };\r\n    }\r\n    else{\r\n      setFile(null)\r\n    }\r\n  };\r\n const deleteImg = (path, id)=> {\r\n    firebase.delete(path).then(d=>console.log(d))\r\n    firebase.onDelete(id,\"user\")\r\n    setImages([])\r\n    setId(id);\r\n }\r\n  \r\n  const onSubmit1 = () => {\r\n    if (fileName) {\r\n      setWait(\"Wait...\");\r\n      const upload = firebase.uploadImg(`user/avatar/${fileName}`, fileTarget);\r\n      upload.then(data =>\r\n        firebase\r\n          .onCreate({ avatar: data.metadata.fullPath }, \"user\")\r\n          .then(d => {\r\n            setWait(\"Submit\");\r\n            setImages([])\r\n            setId(d.id);\r\n          })\r\n      );\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div className = \"aside\">\r\n      <img className=\"preview\" src={file}></img>\r\n       \r\n      <input className=\"file\" type=\"file\" onChange={showFile}></input>\r\n      \r\n      <button\r\n        className=\"submit\"\r\n        onClick={wait !== \"Wait...\" && file !== null? onSubmit1 : ()=>{}}\r\n      >\r\n        {wait}\r\n      </button>\r\n      </div>\r\n      <div className = \"images\" id = \"scroll\">\r\n        {images.map(e => (\r\n           <div key = {e.id} className=\"image\">\r\n          <img  src={e.url}></img>\r\n          <button onClick = {()=>deleteImg(e.path, e.id)} className=\"butt\">Delete</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FirebaseFiles;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}